-- Generated by Oracle SQL Developer Data Modeler 17.3.0.261.1529
--   at:        2018-12-23 16:38:03 CET
--   site:      SQL Server 2012
--   type:      SQL Server 2012



CREATE TABLE Absences 
    (
     ID_absence INTEGER IDENTITY(1,1) NOT NULL , 
     ID_employee INTEGER NOT NULL , 
     ID_reason INTEGER NOT NULL , 
     "From" DATETIME , 
     "To" DATETIME 
    )
    ON "default"
GO

ALTER TABLE Absences ADD CONSTRAINT Absences_PK PRIMARY KEY CLUSTERED (ID_absence)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE EmployeePosition 
    (
     ID_employee INTEGER NOT NULL , 
     ID_position INTEGER NOT NULL 
    )
    ON "default"
GO

ALTER TABLE EmployeePosition ADD CONSTRAINT EmployeePosition_PK PRIMARY KEY CLUSTERED (ID_employee, ID_position)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE Employees 
    (
     ID_employee INTEGER IDENTITY(1,1) NOT NULL , 
     ID_shift INTEGER NULL , 
     First_name VARCHAR (20) , 
     Last_name VARCHAR (30) , 
     Birthday DATETIME , 
     Start_date DATETIME , 
     isAdmin BIT , 
     Employee_login VARCHAR (5) , 
     Employee_password VARCHAR(30) 
    )
    ON "default"
GO

ALTER TABLE Employees ADD CONSTRAINT Employees_PK PRIMARY KEY CLUSTERED (ID_employee)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE EmployeeTeam 
    (
     ID_employee_team INTEGER IDENTITY(1,1) NOT NULL , 
     ID_employee INTEGER NOT NULL , 
     ID_team INTEGER NOT NULL 
    )
    ON "default"
GO

ALTER TABLE EmployeeTeam ADD CONSTRAINT EmployeeTeam_PK PRIMARY KEY CLUSTERED (ID_employee_team)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE Positions 
    (
     ID_position INTEGER IDENTITY(1,1) NOT NULL , 
     Name_of_position VARCHAR (30) 
    )
    ON "default"
GO

ALTER TABLE Positions ADD CONSTRAINT Positions_PK PRIMARY KEY CLUSTERED (ID_position)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE Reasons 
    (
     ID_reason INTEGER IDENTITY(1,1) NOT NULL , 
     Name_of_reason VARCHAR (50) 
    )
    ON "default"
GO

ALTER TABLE Reasons ADD CONSTRAINT Reasons_PK PRIMARY KEY CLUSTERED (ID_reason)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE Shifts 
    (
     ID_shift INTEGER IDENTITY(1,1) NOT NULL , 
     Name_of_shift VARCHAR (30) 
    )
    ON "default"
GO

ALTER TABLE Shifts ADD CONSTRAINT Shifts_PK PRIMARY KEY CLUSTERED (ID_shift)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE Teams 
    (
     ID_team INTEGER IDENTITY(1,1) NOT NULL , 
     ID_workplace INTEGER NOT NULL , 
     Name_of_team VARCHAR (50) 
    )
    ON "default"
GO

ALTER TABLE Teams ADD CONSTRAINT Teams_PK PRIMARY KEY CLUSTERED (ID_team)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

CREATE TABLE Workplaces 
    (
     ID_workplace INTEGER IDENTITY(1,1) NOT NULL , 
     ID_superior_workplace INTEGER , 
     Name_of_workplace VARCHAR (50) 
    )
    ON "default"
GO

ALTER TABLE Workplaces ADD CONSTRAINT Workplaces_PK PRIMARY KEY CLUSTERED (ID_workplace)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
     ON "default" 
    GO

ALTER TABLE Absences 
    ADD CONSTRAINT Absences_Employees_FK FOREIGN KEY 
    ( 
     ID_employee
    ) 
    REFERENCES Employees 
    ( 
     ID_employee 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE Absences 
    ADD CONSTRAINT Absences_Reasons_FK FOREIGN KEY 
    ( 
     ID_reason
    ) 
    REFERENCES Reasons 
    ( 
     ID_reason 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE EmployeePosition 
    ADD CONSTRAINT EmployeePosition_Employees_FK FOREIGN KEY 
    ( 
     ID_employee
    ) 
    REFERENCES Employees 
    ( 
     ID_employee 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE EmployeePosition 
    ADD CONSTRAINT EmployeePosition_Positions_FK FOREIGN KEY 
    ( 
     ID_position
    ) 
    REFERENCES Positions 
    ( 
     ID_position 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE Employees 
    ADD CONSTRAINT Employees_Shifts_FK FOREIGN KEY 
    ( 
     ID_shift
    ) 
    REFERENCES Shifts 
    ( 
     ID_shift 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE EmployeeTeam 
    ADD CONSTRAINT EmployeeTeam_Employees_FK FOREIGN KEY 
    ( 
     ID_employee
    ) 
    REFERENCES Employees 
    ( 
     ID_employee 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE EmployeeTeam 
    ADD CONSTRAINT EmployeeTeam_Teams_FK FOREIGN KEY 
    ( 
     ID_team
    ) 
    REFERENCES Teams 
    ( 
     ID_team 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE Teams 
    ADD CONSTRAINT Teams_Workplaces_FK FOREIGN KEY 
    ( 
     ID_workplace
    ) 
    REFERENCES Workplaces 
    ( 
     ID_workplace 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO

ALTER TABLE Workplaces 
    ADD CONSTRAINT Workplaces_Workplaces_FK FOREIGN KEY 
    ( 
     ID_superior_workplace
    ) 
    REFERENCES Workplaces 
    ( 
     ID_workplace 
    ) 
    ON DELETE NO ACTION 
    ON UPDATE NO ACTION 
GO



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             9
-- CREATE INDEX                             0
-- ALTER TABLE                             18
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE DATABASE                          0
-- CREATE DEFAULT                           0
-- CREATE INDEX ON VIEW                     0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE ROLE                              0
-- CREATE RULE                              0
-- CREATE SCHEMA                            0
-- CREATE SEQUENCE                          0
-- CREATE PARTITION FUNCTION                0
-- CREATE PARTITION SCHEME                  0
-- 
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0